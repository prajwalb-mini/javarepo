using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;

namespace WebApplication2
{
    public partial class WebForm1 : System.Web.UI.Page
    {
        protected void Page_Load(object sender, EventArgs e)
        {

        }

        protected void TextBox3_TextChanged(object sender, EventArgs e)
        {

        }

        protected void Button1_Click(object sender, EventArgs e)
        {
            if (double.TryParse(TextBox1.Text, out double weight) && double.TryParse(TextBox2.Text, out double heightCm))
            {
                double heightM = heightCm / 100.0;
                double bmi = weight / (heightM * heightM);
                TextBox3.Text = bmi.ToString("F1"); 

                string ageGroup = DropDownList1.SelectedValue;
                string classification = "N/A";

                
                if (ageGroup == "45-54")
                {
                    if (bmi < 22) classification = "Underweight";
                    else if (bmi >= 22 && bmi <= 26.9) classification = "Healthy weight";
                    else if (bmi >= 27 && bmi <= 31.9) classification = "Overweight";
                    else if (bmi >= 32 && bmi <= 42) classification = "Obesity";
                    else if (bmi > 42) classification = "Severe obesity";
                }
                

                TextBox4.Text = classification;
            }
            else
            {
                
                TextBox3.Text = "";
                TextBox4.Text = "Invalid input";
            }
        }
    }
}